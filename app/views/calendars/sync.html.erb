<div class="container">
  <h2>Google Calendar Import Results</h2>

  <% if @google_shows[:conflicts].any? %>
    <h3>The following shows may conflict with shows you've already imported</h3>
    <% @google_shows.conflicts.each do |show| %>
      <%= show.inspect %>
    <% end %>
  <% end %>

  <div class="panel panel-primary">
    <div class="panel-heading">
      <h4>The following shows can be imported from your google calendar:</h4>
    </div>
    <ul class='list-group'>
      <% @google_shows[:shows].each do |show| %>
        <li class='list-group-item'>
          <ul class='list-group'>
            <li class='list-group-item'>
              <%= show.date %> <%= show.readable(show.start) %>
            </li>
            <% if show.readable(show.start) == "12:00AM" %>
              <li class='list-group-item list-group-item-warning'>
                <p>
                  This show is set as an all day event in Google Calendar and it's start and end times will have to be set manually within ShiftSlot. In the meantime it'll be set to 12:00am
                </p>
              <% else %>
                <li class='list-group-item'>
                  <%= show.readable(show.start) %>
            <% end %>
            </li>
            <li class='list-group-item'>
              <%= show.info %>
            </li>
          </ul>
        </li>
      <% end %>
    </ul>
    <%= @google_shows[:shows]  %>
    <%= form_for :shows, url: shows_path do |f| %>
      <% @google_shows[:shows].each.with_index do |show, index| %>
        <%= f.hidden_field "#{index}[info]", value: show.info %>
        <%= f.hidden_field "#{index}[start]", value: show.start %>
      <% end %>
      <%= f.submit %>
    <% end %>
  </div>
</div>
